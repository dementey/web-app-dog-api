(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){e.exports=n(311)},311:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(20),c=n.n(i),l=n(32),s=n(53),o=n(119),u=n.n(o),d=(n(151),n(37)),m=n(28),p=function(e){return{type:"SELECT_SUBREDDIT",subreddit:e}},h=function(e){return{type:"INVALIDATE_SUBREDDIT",subreddit:e}},f=function(){return function(e){return e({type:"INITIAL_REQUEST_POSTS"}),fetch("https://dog.ceo/api/breeds/list/all").then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"INITIAL_RECEIVE_POSTS",initialposts:Object.keys(e.message)}}(t))})}},E=function(e){return function(t){return t(function(e){return{type:"REQUEST_POSTS",subreddit:e}}(e)),fetch("https://dog.ceo/api/breed/".concat(e,"/images")).then(function(e){return e.json()}).then(function(n){return t(function(e,t){return{type:"RECEIVE_POSTS",subreddit:e,posts:t.message.map(function(e){return e}),receivedAt:Date.now()}}(e,n))})}},b=function(e){return function(t,n){if(function(e,t){var n=e.postsBySubreddit[t];return!n||!n.isFetching&&n.didInvalidate}(n(),e))return t(E(e))}},g=Object(l.c)({initialPostsBySubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":case"INITIAL_RECEIVE_POSTS":case"INITIAL_REQUEST_POSTS":return Object(m.a)({},e,{items2:t.initialposts});default:return e}},postsBySubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":case"RECEIVE_POSTS":case"REQUEST_POSTS":return Object(m.a)({},e,Object(d.a)({},t.subreddit,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didInvalidate:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_SUBREDDIT":return Object(m.a)({},e,{didInvalidate:!0});case"REQUEST_POSTS":return Object(m.a)({},e,{isFetching:!0,didInvalidate:!1});case"RECEIVE_POSTS":return Object(m.a)({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}(e[t.subreddit],t)));default:return e}},selectedSubreddit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"affenpinscher",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_SUBREDDIT":return t.subreddit;default:return e}},initialSubBreed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIAL_RECEIVE_SUBBREED":return Object(m.a)({},e,{items3:t.subbreed});default:return e}}}),v=n(23),O=n(24),S=n(26),y=n(25),j=n(27),I=n(313),C=n(18),T=n(120),w=n.n(T),D=n(122),R=n.n(D),k=n(124),N=n.n(k),_=n(123),B=n.n(_),L=n(43),A=n.n(L),U=n(314),P=Object(C.withStyles)(function(e){return{root:{flexGrow:1},button:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{position:"static"},r.a.createElement(R.a,null,r.a.createElement(B.a,{color:"inherit","aria-label":"Menu",href:"/"},r.a.createElement(N.a,null)),r.a.createElement(U.a,{to:"/"},r.a.createElement(A.a,{variant:"contained",color:"primary",className:t.button},"Home")),r.a.createElement(U.a,{to:"/randomimage"},r.a.createElement(A.a,{variant:"contained",color:"primary",className:t.button},"Random image")))))}),F=n(312),x=n(129),V=n.n(x),W=n(127),M=n.n(W),Q=n(130),H=n.n(Q),G=n(126),J=n.n(G),q=n(128),z=n.n(q),K=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={age:"",name:"hai",labelWidth:0},n.handleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value)),n.props.cbOnChange(e.target.value)},n}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState({labelWidth:c.a.findDOMNode(this.InputLabelRef).offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.options,i=t.inputLabel;return r.a.createElement("form",{className:n.root,autoComplete:"off"},r.a.createElement(J.a,{variant:"outlined",className:n.formControl},r.a.createElement(M.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-simple"},i),r.a.createElement(z.a,{value:this.state.age,onChange:this.handleChange,input:r.a.createElement(V.a,{labelWidth:this.state.labelWidth,name:"age",id:"outlined-age-simple"})},a.map(function(e){return r.a.createElement(H.a,{value:e,key:e},e)}))))}}]),t}(r.a.Component),X=Object(C.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}})(K),Y=function(e){var t=e.value,n=e.onChange,i=e.options,c=e.inputLabel;return r.a.createElement(a.Fragment,null,"Selected breed of dog - ",t,r.a.createElement(X,{options:i,cbOnChange:n,inputLabel:c}))},Z=n(52),$=n.n(Z),ee=n(44),te=n.n(ee);var ne=Object(C.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"100%",height:"100%"}}})(function(e){var t=e.classes,n=e.tileData;return r.a.createElement("div",{className:t.root},r.a.createElement($.a,{cellHeight:160,className:t.gridList,cols:8},n.map(function(e){return r.a.createElement(te.a,{key:e,cols:1},r.a.createElement("img",{src:e,alt:e}))})))}),ae=n(30),re=n.n(ae),ie=n(131),ce=n.n(ie);var le=Object(C.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(ce.a,{className:t.progress}))});var se=Object(C.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes,n=e.cbOnClick;return r.a.createElement("div",null,r.a.createElement(A.a,{variant:"contained",color:"secondary",className:t.button,onClick:n},"Refresh"))}),oe=n(42),ue=n.n(oe);var de=Object(C.withStyles)(function(e){return{root:Object(m.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(function(e){var t=e.classes,n=e.children;return r.a.createElement("div",null,r.a.createElement(ue.a,{className:t.root,elevation:1},r.a.createElement(re.a,{variant:"h5",component:"h3"},n)))}),me=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.dispatch(p(e))},n.handleRefreshClick=function(e){e.preventDefault();var t=n.props,a=t.dispatch,r=t.selectedSubreddit;a(f()),a(h(r)),a(b(r))},n}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(f())}},{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.selectedSubreddit;t(b(n))}},{key:"componentDidUpdate",value:function(e){if(e.selectedSubreddit!==this.props.selectedSubreddit){var t=this.props,n=t.dispatch,a=t.selectedSubreddit;n(b(a))}}},{key:"render",value:function(){var e=this.props,t=e.selectedSubreddit,n=e.initial,i=e.posts,c=e.isFetching,l=e.lastUpdated,s=0===i.length;return r.a.createElement(a.Fragment,null,r.a.createElement($.a,{cellHeight:100,cols:2},r.a.createElement(te.a,null,r.a.createElement(re.a,{variant:"h6",gutterBottom:!0},n&&r.a.createElement(Y,{value:t,onChange:this.handleChange,options:n,inputLabel:"Breed"}))),r.a.createElement(te.a,null,r.a.createElement(re.a,{variant:"h6",gutterBottom:!0},l&&r.a.createElement("span",null,"Last updated at ",new Date(l).toLocaleTimeString()),!c&&r.a.createElement(se,{cbOnClick:this.handleRefreshClick})))),r.a.createElement(de,null,s?c?r.a.createElement(le,null):r.a.createElement("h2",null,"Empty."):r.a.createElement("div",{style:{opacity:c?.5:1}},r.a.createElement(ne,{tileData:i}))))}}]),t}(a.Component),pe=Object(s.b)(function(e){var t=e.selectedSubreddit,n=e.initialPostsBySubreddit,a=e.postsBySubreddit[t]||{isFetching:!0,items:[]},r=a.isFetching,i=a.lastUpdated,c=a.items;return{selectedSubreddit:t,initial:(n||{items2:[]}).items2,posts:c,isFetching:r,lastUpdated:i}})(me),he=n(132),fe=n.n(he),Ee=n(133),be=n.n(Ee),ge=n(134),ve=n.n(ge),Oe=n(136),Se=n.n(Oe),ye=n(135),je=n.n(ye);var Ie=Object(C.withStyles)({card:{maxWidth:400},media:{height:400}})(function(e){var t=e.classes,n=e.srcImg,a=e.cbOnClick;return r.a.createElement(be.a,{className:t.card,onClick:a},r.a.createElement(ve.a,null,r.a.createElement(je.a,{className:t.media,image:n,title:"Contemplative Reptile"}),r.a.createElement(Se.a,null,r.a.createElement(re.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Breed"),r.a.createElement(re.a,{component:"p"},n))))}),Ce=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(S.a)(this,Object(y.a)(t).call(this,e))).state={dataReady:!1,name:"???",message:[]},n.fetchError=function(e){console.error(e)},n.fetchSuccess=function(e){console.log(e),n.setState({dataReady:!0,status:e.status,message:e.message})},n.loadData=function(){fe()("https://dog.ceo/api/breeds/image/random",{method:"get",headers:{Accept:"application/json"}}).then(function(e){if(e.ok)return e.json();var t=new Error("fetch error "+e.status);throw t.userMessage="\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438",t}).then(function(e){try{n.fetchSuccess(e)}catch(t){n.fetchError(t.message)}}).catch(function(e){n.fetchError(e.userMessage||e.message)})},n}return Object(j.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return this.state.dataReady?r.a.createElement(Ie,{srcImg:this.state.message,cbOnClick:this.loadData},r.a.createElement("img",{srcImg:this.state.message,alt:this.state.message})):r.a.createElement("div",null,"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...")}}]),t}(r.a.PureComponent),Te=function(e){function t(){return Object(v.a)(this,t),Object(S.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,{path:"/",exact:!0,component:pe}),r.a.createElement(F.a,{path:"/randomimage",component:Ce}))}}]),t}(r.a.Component),we=n(74),De=n.n(we),Re=Object(C.withStyles)(function(e){return{root:{flexGrow:1}}})(function(e){return r.a.createElement("div",{className:e.root},r.a.createElement(De.a,{container:!0,spacing:8},r.a.createElement(De.a,{item:!0,xs:12,sm:3})))}),ke=function(e){function t(){return Object(v.a)(this,t),Object(S.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement(a.Fragment,null,r.a.createElement(P,null),r.a.createElement(Te,null),r.a.createElement(Re,null)))}}]),t}(a.Component),Ne=[u.a];var _e=Object(l.d)(g,l.a.apply(void 0,Ne));Object(i.render)(r.a.createElement(s.a,{store:_e},r.a.createElement(ke,null)),document.getElementById("root"))}},[[137,2,1]]]);
//# sourceMappingURL=main.4392d357.chunk.js.map